
# 关于断路器的基础认识

circuit breaker

## 三个状态

### close状态
此状态为断路器的默认状态，当在一定时间范围内出现错误的次数超过某一个阈值的时候，切换状态为open

### open状态
处于该状态的时候，如果还没达到halfOpen的过期时间的话直接走fallback流程，如果达到了进入halfOpen状态

### halfOpen状态
处于该状态的时候，会尝试执行业务流程，如果失败了则直接进入open状态，如果成功了则统计成功次数如果达到了配置阈值，则进入close状态

## 总结上述涉及的配置值

close状态下：时间范围 + 错误次数，
例如：2秒内出现5次错误则进入打开状态

open状态下：短路时间范围，
例如：5秒中之后进入halfOpen状态

halfOpen状态：成功的次数，
例如：半开状态成功2次则进入close状态

